<div class="modal-bodys ">
    <div class="modale">
        <h1> <span id="form_title"> Talaba qo'shish </span>
            <button class="close add_student" type="button">
                <i class="fa-2x fa fa-times"></i>
            </button>
        </h1>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group">
              <label for="formGroupExampleInput"> Ism </label>
              <input type="text" id="first_name" class="form-control" name="first_name" placeholder="Ism kiriting">
            </div>

            <div class="form-group">
              <label for="formGroupExampleInput2"> Familiya </label>
              <input type="text" id="last_name" class="form-control" name="last_name" placeholder="Familiya kiriting">
            </div>

            <div class="form-group">
                <label for="formGroupExampleInput2"> Telefon raqam </label>
                <input type="text" id="phone" class="form-control"name="phone" placeholder="Raqam kiriting">
              </div>

              <input type="hidden" id="student_id" name="student_id">

              <div class="form-group">
                <label for="formGroupExampleInput2"> Rasm </label>
                <input type="file" id="photo" class="form-control" name="image">
              </div>

              <div class="form-group">
                <button class="btn btn-success"> Qo'shish </button>
              </div>


          </form>
          
    </div>
</div>

<style>
    .modal-bodys{
        position: fixed;
        right: 0;
        top: 0;
        width: 25%;
        height: 100vh;
        padding: 50px 20px 20px 20px;
        background: white;
        box-shadow: 0px 0px 5px black;
        transform: translateX(100%);
        transition: 0.7s;
    }
        
    .show-modal{
        transform: translateX(0%);

    }

</style>


<script>
    document.querySelectorAll('.add_student').forEach((el ,index) =>{

        el.addEventListener('click', function(){
    
            document.querySelector('.modal-bodys').classList.toggle('show-modal');
                first_name.value = ''
                last_name.value =''
                phone.value =''
                student_id.value = ''
                form_title.textContent = "Talaba qo'shish"
                photo.required = true
            }
        )
    });

    document.querySelectorAll('.edit_student').forEach((el ,index) =>{

            el.addEventListener('click', function(){
                document.getElementById('first_name').value = el.getAttribute('data-firstname') 
               
                document.getElementById("last_name").value = el.getAttribute('data-lastname')
                document.getElementById("phone").value = el.getAttribute('data-phone')
                document.getElementById("student_id").value = el.getAttribute('data-id')
                form_title.textContent = "Talabani taxrirlash"
                photo.required = false
        })
});
</script>